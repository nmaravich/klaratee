<h1>Editing user - <%= @user.login %></h1>
<% form_for(@user) do |f| %>
<%= f.error_messages %>
<p>
   <%= f.label :first_name %>
   <br/>
   <%= f.text_field :first_name %>
</p>
<p>
   <%= f.label :last_name %>
   <br/>
   <%= f.text_field :last_name %>
</p>
<p>
   <label for="email">Email</label>
   <br/>
   <%= f.text_field :email %>
</p>
<p>
   <label for="password">Password</label>
   <br/>
   <%= f.password_field :password %>
</p>
<p>
   <label for="password_confirmation">Confirm Password</label>
   <br/>
   <%= f.password_field :password_confirmation %>
</p>
<p>
   Companies: <%# @user.companies.map {|c| [c.id, c.name] }.to_json %>
</p>
<p>
   <% for role in @roles do %>
   <br>
   <%= check_box_tag 'user[role_ids][]', role.id, @user.role_ids.include?(role.id) %>
   <%= "#{role.name} - #{role.description}" %>
   <% end %>
   <%= hidden_field_tag 'user[role_ids][]', "" %>
</p>
<p>
   <%= f.submit 'Update' %>
</p>
<% end %>
<%= link_to 'Show', @user %> |<%= link_to 'Back', users_path %>